(this["webpackJsonpdigital-invoice-app"]=this["webpackJsonpdigital-invoice-app"]||[]).push([[0],{38:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var a=s(2),l=s.n(a),c=s(13),n=s.n(c),i=s(14),o=s.n(i),r=(s(38),s(0));var d=function(){const e={customerInfo:{mobile:"",name:"Rhythm",email:"rhythm.chouksey@example.com",countryCode:"+91",gstrName:"Ramandeep",gstrMob:"9764775793",gstrNo:"217686439898"},transactionInfo:{clientId:"0",batchId:"0",roc:"0",txnId:"0",txnType:"UPI"},orderDetails:{storeCode:"9991",storeAddress:"Connaught Plaza Restaurants Pvt.Ltd.",billingPOSNo:"101",netPayableAmount:13196,subTotal:11782.12,rounding:0,taxesInfo:{cgstPercent:9,sgstPercent:9,igstPercent:9,utgstPercent:9,cgst:148.5,sgst:148.5,igst:148.5,utgst:148.5},payments:[{mode:"UPI",total:13196,status:"SUCCESS"}],orderNo:"28",orderRegNo:"1",productsData:[{name:"BLACK LOGO PRINT CREW NECK T-SHIRT",description:"Premium t-shirt",productCode:"A123",quantity:1,unitAmount:300,totalAmount:250,hsnCode:"6276462",discount:50,taxes:{sgstPercent:6,sgst:8,cgstPercent:6,cgst:8,igstPercent:6,igst:8,utgstPercent:6,utgst:3}},{name:"BLACK LOGO RISE WASHED GLENN SLIM FIT JEANS",description:"BLACK LOGO RISE WASHED GLENN SLIM FIT JEANS",productCode:"A124",quantity:2,unitAmount:700,totalAmount:1400,hsnCode:"6276462",discount:0,taxes:{sgstPercent:6,sgst:8,cgstPercent:6,cgst:8,igstPercent:6,igst:8,utgstPercent:6,utgst:3}}],purchasedPieces:3,invoiceNo:"5286",barCode:"",loyaltyData:{type:"",cardNum:"",pointsEarned:0,walletAmount:0,amountSaved:0,pointsRedeemed:0},cashierId:"475117",cashierName:"Krishna",orderDateTime:(()=>{const e=new Date,t=e=>e.toString().padStart(2,"0");return`${t(e.getDate())}-${t(e.getMonth()+1)}-${e.getFullYear()} ${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`})()},billFooterData:{disclaimer:"disclaimer testing",purchaseTerms:"https://company.co.in/",feedbackCode:"LTE123",feedbackDiscount:0,feedbackLink:"https://company.co.in/",orderInstructions:"Please provide black Umbrella",footerInfo:"GSTIN-27AAAFH1333H1ZT         \n         GST Classification -         \n    Restaurant Services SAC-996331    \n        FSSAI : 11517007000202        \n We value your feedback. Share it to: \n     myfeedback@mcdonaldsindia.com     \n # The collection of donation is done \n  on behalf of Ronald McDonald House  \nCharities Foundation India (RMHC India)\n  on a principal-to-principal basis."}},[t,s]=Object(a.useState)(e),[l,c]=Object(a.useState)("customerInfo"),[n,i]=Object(a.useState)(null),[d,u]=Object(a.useState)("success"),[b,j]=Object(a.useState)(!1),[m,p]=Object(a.useState)(null),h=e=>{const t={barCode:"Barcode Number",gstrNo:"Gst Reg No",gstrMob:"Gst Reg Mob",gstrName:"Gst Reg Name",billingPOSNo:"Billing POS No",cashierId:"Cashier ID"};return t[e]?t[e]:e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))},x=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const n="number"===e.target.type?Number(e.target.value):e.target.value;s((e=>{if("productsData.taxes"===c&&null!==l){const t=[...e.orderDetails.productsData],s={...t[l]};return s.taxes={...s.taxes,[a]:n},t[l]=s,{...e,orderDetails:{...e.orderDetails,productsData:t}}}if("taxesInfo"===c)return{...e,orderDetails:{...e.orderDetails,taxesInfo:{...e.orderDetails.taxesInfo,[a]:n}}};if("loyaltyData"===c)return{...e,orderDetails:{...e.orderDetails,loyaltyData:{...e.orderDetails.loyaltyData,[a]:n}}};if("productsData"===c&&null!==l){const t=[...e.orderDetails.productsData];return t[l]={...t[l],[a]:n},{...e,orderDetails:{...e.orderDetails,productsData:t}}}if(null!==l&&"payments"===c&&"orderDetails"===t){const t=[...e.orderDetails.payments];return t[l]={...t[l],[a]:n},{...e,orderDetails:{...e.orderDetails,payments:t}}}if(null!==l&&"productsData"===t){const t=[...e.orderDetails.productsData];return t[l]={...t[l],[a]:n},{...e,orderDetails:{...e.orderDetails,productsData:t}}}return t in e?{...e,[t]:{...e[t],[a]:n}}:e}))},f=()=>{const e={name:"",description:"",productCode:"",quantity:0,unitAmount:0,totalAmount:0,hsnCode:"",discount:0,taxes:{sgstPercent:0,sgst:0,cgstPercent:0,cgst:0,igstPercent:0,igst:0,utgstPercent:0,utgst:0}};s((t=>({...t,orderDetails:{...t.orderDetails,productsData:[...t.orderDetails.productsData,e]}})))},N=e=>"productsData"===e?Object(r.jsxs)(r.Fragment,{children:[t.orderDetails.productsData&&t.orderDetails.productsData.map(((e,t)=>Object(r.jsxs)("div",{className:"product-block",children:[Object(r.jsx)("div",{className:"product-fields",children:Object.keys(e).map((s=>"taxes"===s?Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Taxes"}),Object(r.jsx)("div",{className:"tax-info-block",children:e.taxes&&Object.keys(e.taxes).map((s=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(s)}),Object(r.jsx)("input",{type:"number",value:e.taxes[s]||0,onChange:e=>x(e,"orderDetails",s,t,"productsData.taxes"),className:"field-input"})]},s)))})]},s):Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(s)}),Object(r.jsx)("input",{type:"text",value:e[s]||"",onChange:e=>x(e,"orderDetails",s,t,"productsData"),className:"field-input"})]},s)))}),Object(r.jsx)("button",{type:"button",className:"delete-product-button",onClick:()=>(e=>{p(e)})(t),children:"Delete"}),Object(r.jsx)("hr",{className:"product-separator"})]},t))),Object(r.jsx)("button",{type:"button",className:"add-product-button",onClick:f,children:"Add Product"})]}):"orderDetails"===e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Order Details"}),Object(r.jsx)("div",{className:"order-details-block",children:Object.keys(t[e]).map((s=>{if("productsData"===s||"payments"===s||"taxesInfo"===s||"loyaltyData"===s)return null;if("orderDateTime"===s){const a=e=>{if(!e)return"";const[t,s]=e.split(" ");if(!t||!s)return"";const[a,l,c]=t.split("-");return`${c}-${l.padStart(2,"0")}-${a.padStart(2,"0")}T${s}`},l=e=>{if(!e)return"";const[t,s]=e.split("T");if(!t||!s)return"";const[a,l,c]=t.split("-");return`${c}-${l}-${a} ${s}`};return Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(s)}),Object(r.jsx)("input",{type:"datetime-local",step:"1",value:a(t[e][s]),onChange:t=>x({target:{value:l(t.target.value)}},e,s),className:"field-input"})]},s)}return Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(s)}),Object(r.jsx)("input",{type:"text",value:t[e][s],onChange:t=>x(t,e,s),className:"field-input"})]},s)}))})]}),t.orderDetails.payments&&Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Payments"}),t.orderDetails.payments.map(((e,t)=>Object(r.jsxs)("div",{className:"payment-block",children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:"Mode"}),Object(r.jsxs)("select",{value:e.mode,onChange:e=>x(e,"orderDetails","mode",t,"payments"),className:"field-input",children:[Object(r.jsx)("option",{value:"UPI",children:"UPI"}),Object(r.jsx)("option",{value:"CARD",children:"CARD"}),Object(r.jsx)("option",{value:"CASH",children:"CASH"})]})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:"Total"}),Object(r.jsx)("input",{type:"number",value:e.total,onChange:e=>x(e,"orderDetails","total",t,"payments"),className:"field-input"})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:"Status"}),Object(r.jsx)("input",{type:"text",value:e.status,onChange:e=>x(e,"orderDetails","status",t,"payments"),className:"field-input"})]})]},t)))]}),t.orderDetails.taxesInfo&&Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Taxes Info"}),Object(r.jsx)("div",{className:"tax-info-block",children:Object.keys(t.orderDetails.taxesInfo).map((e=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(e)}),Object(r.jsx)("input",{type:"number",value:t.orderDetails.taxesInfo[e]||"",onChange:t=>x(t,"orderDetails",e,null,"taxesInfo"),className:"field-input"})]},e)))})]}),t.orderDetails.loyaltyData&&Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Loyalty Data"}),Object(r.jsx)("div",{className:"loyalty-data-block",children:Object.keys(t.orderDetails.loyaltyData).map((e=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(e)}),Object(r.jsx)("input",{type:"text",value:t.orderDetails.loyaltyData[e],onChange:t=>x(t,"orderDetails",e,null,"loyaltyData"),className:"field-input"})]},e)))})]})]}):Object.keys(t[e]).map((s=>"transactionInfo"===e&&"txnType"===s?Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(s)}),Object(r.jsxs)("select",{value:t[e][s],onChange:t=>x(t,e,s),className:"field-input",children:[Object(r.jsx)("option",{value:"UPI",children:"UPI"}),Object(r.jsx)("option",{value:"CARD",children:"CARD"}),Object(r.jsx)("option",{value:"CASH",children:"CASH"})]})]},s):Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:h(s)}),Object(r.jsx)("input",{type:"text",value:t[e][s],onChange:t=>x(t,e,s),className:"field-input"})]},s)));return Object(r.jsxs)("div",{className:"form-container",children:[Object(r.jsx)("h1",{className:"form-title",children:"Digital Invoice Form"}),Object(r.jsxs)("div",{className:"tabs "+(n?"popup-active":""),children:[Object(r.jsx)("button",{className:"tab-button "+("customerInfo"===l?"active":""),onClick:()=>c("customerInfo"),children:"Customer Info"}),Object(r.jsx)("button",{className:"tab-button "+("transactionInfo"===l?"active":""),onClick:()=>c("transactionInfo"),children:"Transaction Info"}),Object(r.jsx)("button",{className:"tab-button "+("orderDetails"===l?"active":""),onClick:()=>c("orderDetails"),children:"Order Info"}),Object(r.jsx)("button",{className:"tab-button "+("productsData"===l?"active":""),onClick:()=>c("productsData"),children:"Product Info"}),Object(r.jsx)("button",{className:"tab-button "+("billFooterData"===l?"active":""),onClick:()=>c("billFooterData"),children:"Bill Footer Info"})]}),Object(r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0);const s=JSON.parse(JSON.stringify(t)),a=e=>{Object.keys(e).forEach((t=>{"string"!==typeof e[t]||isNaN(e[t])?"object"===typeof e[t]&&null!==e[t]&&a(e[t]):e[t]=Number(e[t])}))},l=e=>null===e||void 0===e?"":String(e);a(s.transactionInfo),a(s.orderDetails),l(s.invoiceNo),l(s.hsnCode),l(s.orderNo),l(s.orderRegNo),l(s.billingPOSNo),l(s.cashierId),l(s.storeCode),Object.keys(s.transactionInfo).forEach((e=>{s.transactionInfo[e]=l(s.transactionInfo[e])}));const c="https://testapi.pinelabs.com/v1/billing-integration/qr-payments/transactions/digital-invoice-v2/create",n={Authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJTYlBZU2ZJOS04bklWczl3Xy1Fa3RVdWNVaURNdUZiMGM5bkpVM3hhYzdBIn0.eyJleHAiOjE3NjE1NjMyMTksImlhdCI6MTc0NjAxMTIxOSwianRpIjoiMDdhZjZkMDYtZTM1ZC00ZjEwLWE2OTQtM2ZmMDFiNTMyMDYzIiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eXRlc3QucGluZWxhYnMuY29tL3JlYWxtcy9waW5lbGFicyIsInN1YiI6IjhmNzJlZjBiLTI0ZTMtNDQwZi1iZmQzLTExMTVhMDhkZjBiZCIsInR5cCI6IkJlYXJlciIsImF6cCI6Ik1lcmNoYW50QmlsbGluZ1NlcnZfMjAxNSIsImFjciI6IjEiLCJzY29wZSI6ImZldGNoLnBpbmUub25lLnRyYW5zYWN0aW9uLkdFVCBiaWxsaW5nLWludGVncmF0aW9uLnFyLXBheW1lbnRzLnRyYW5zYWN0aW9ucy5QT1NUIHYxLmJpbGxpbmctaW50ZWdyYXRpb24ucXItcGF5bWVudHMudHJhbnNhY3Rpb25zLmRpZ2l0YWwtaW52b2ljZS12Mi5jcmVhdGUuUE9TVCBiaWxsaW5nLWludGVncmF0aW9uLnFyLXBheW1lbnRzLnRyYW5zYWN0aW9ucy5HRVQgYmlsbGluZy1pbnRlZ3JhdGlvbi5xci1wYXltZW50cy50cmFuc2FjdGlvbnMuY2FuY2VsLlBPU1Qgb2ZmbGluZV9hY2Nlc3MgdjEuYmlsbGluZy1pbnRlZ3JhdGlvbi5xci1wYXltZW50cy50cmFuc2FjdGlvbnMuZGlnaXRhbC1pbnZvaWNlLXYxLmNyZWF0ZS5QT1NUIiwiY2xpZW50SG9zdCI6IjExNS4xMTAuMTQxLjI0MiIsImV4dElkIjoiMjAxNSIsIk1lcmNoYW50SWQiOiIyMDE1IiwiY2xpZW50QWRkcmVzcyI6IjExNS4xMTAuMTQxLjI0MiIsImNsaWVudF9pZCI6Ik1lcmNoYW50QmlsbGluZ1NlcnZfMjAxNSJ9.h8fXECFyq81ADlaXotGBCEi9faW8Qo8eFzw4TXYiRIpdkef-cHTqOlcce7nqADJOTOu-2oU5c_RVIIGTNeiLYw","Content-Type":"application/json","correlation-id":"123455"},r=`\ncurl --location '${c}' \\\n--header 'Authorization: ${n.Authorization}' \\\n--header 'Content-Type: ${n["Content-Type"]}' \\\n--header 'correlation-id: ${n["correlation-id"]}' \\\n--data-raw '${JSON.stringify(s,null,2)}'\n    `;console.log("Final CURL Command:\n",r);try{const e=await o.a.post(c,s,{headers:n});u("success"),i("Invoice uploaded successfully!"),console.log("Response:",e.data)}catch(p){var d,b,m;u("error"),i((null===(d=p.response)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.message)||"API call failed!"),console.error("Error:",(null===(m=p.response)||void 0===m?void 0:m.data)||p.message)}finally{j(!1)}},className:"form "+(n?"popup-active":""),children:["customerInfo"===l&&Object(r.jsx)("div",{className:"form-section",children:N("customerInfo")}),"transactionInfo"===l&&Object(r.jsx)("div",{className:"form-section",children:N("transactionInfo")}),"orderDetails"===l&&Object(r.jsx)("div",{className:"form-section",children:N("orderDetails")}),"productsData"===l&&Object(r.jsx)("div",{className:"form-section",children:N("productsData")}),"billFooterData"===l&&Object(r.jsx)("div",{className:"form-section",children:N("billFooterData")}),Object(r.jsx)("button",{type:"submit",className:"submit-button",children:"Submit"})]}),b&&Object(r.jsx)("div",{className:"loading-toast",children:Object(r.jsx)("div",{className:"spinner"})}),n&&Object(r.jsxs)("div",{className:`popup ${d}`,children:[Object(r.jsx)("h3",{children:"success"===d?"Success":"Error"}),Object(r.jsx)("p",{children:n}),Object(r.jsx)("button",{onClick:()=>i(null),children:"Close"})]}),null!==m&&Object(r.jsxs)("div",{className:"popup",children:[Object(r.jsx)("h3",{children:"Delete Product"}),Object(r.jsx)("p",{children:"Do you want to delete this product?"}),Object(r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[Object(r.jsx)("button",{onClick:()=>{s((e=>{const t=[...e.orderDetails.productsData];return t.splice(m,1),{...e,orderDetails:{...e.orderDetails,productsData:t}}})),p(null)},children:"Yes"}),Object(r.jsx)("button",{onClick:()=>{p(null)},children:"No"})]})]})]})};var u=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsx)("div",{className:"logo-text",children:"PINE LABS"})}),Object(r.jsx)(d,{})]})};s(40);n.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(u,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.98f5d847.chunk.js.map