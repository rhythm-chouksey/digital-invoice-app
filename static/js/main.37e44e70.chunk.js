(this["webpackJsonpdigital-invoice-app"]=this["webpackJsonpdigital-invoice-app"]||[]).push([[0],{38:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var a=s(2),l=s.n(a),n=s(13),o=s.n(n),r=s(14),c=s.n(r),i=(s(38),s(0));var d=function(){const e={customerInfo:{mobile:"9910403116",countryCode:"+91",name:"Rhythm",email:"rhythm.chouksey@example.com",gstrName:"Ramandeep",gstrMob:"9764775793",gstrNo:"217686439898"},transactionInfo:{clientId:"2882482",batchId:"9344",roc:"204",txnId:"0",txnType:"UPI"},orderDetails:{storeCode:"9991",storeAddress:"Connaught Plaza Restaurants Pvt.Ltd.",billingPOSNo:"101",netPayableAmount:13196,subTotal:11782.12,rounding:0,taxesInfo:{cgstPercent:9,sgstPercent:9,igstPercent:9,utgstPercent:9,cgst:148.5,sgst:148.5,igst:148.5,utgst:148.5},payments:[{mode:"UPI",total:13196,status:"SUCCESS"}],orderNo:"28",orderRegNo:"1",productsData:[{name:"Pizza",description:"Pizza",productCode:"A123",quantity:1,mrp:300,baseAmount:250,netAmount:250,hsnCode:"6276462",discount:50,taxes:{sgstPercent:6,sgst:8,cgstPercent:6,cgst:8,igstPercent:6,igst:8,utgstPercent:6,utgst:3}},{name:"Burger",description:"Burger",productCode:"A124",quantity:2,mrp:300,baseAmount:250,netAmount:200,hsnCode:"6276462",discount:0,taxes:{sgstPercent:6,sgst:8,cgstPercent:6,cgst:8,igstPercent:6,igst:8,utgstPercent:6,utgst:3}}],purchasedPieces:3,invoiceNo:"5286",barCode:"",loyaltyData:{type:"",cardNum:"",pointsEarned:0,walletAmount:0,amountSaved:0,pointsRedeemed:0},cashierId:"475117",cashierName:"Krishna",orderDateTime:(()=>{const e=new Date,t=e=>e.toString().padStart(2,"0");return`${t(e.getDate())}-${t(e.getMonth()+1)}-${e.getFullYear()} ${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`})()},billFooterData:{disclaimer:"disclaimer testing",purchaseTerms:"https://company.co.in/",feedbackCode:"LTE123",feedbackDiscount:0,feedbackLink:"https://company.co.in/",orderInstructions:"Please provide black Umbrella",footerInfo:"GSTIN-27AAAFH1333H1ZT         \n         GST Classification -         \n    Restaurant Services SAC-996331    \n        FSSAI : 11517007000202        \n We value your feedback. Share it to: \n     myfeedback@mcdonaldsindia.com     \n # The collection of donation is done \n  on behalf of Ronald McDonald House  \nCharities Foundation India (RMHC India)\n  on a principal-to-principal basis."}},[t,s]=Object(a.useState)(e),[l,n]=Object(a.useState)("customerInfo"),[o,r]=Object(a.useState)(null),[d,u]=Object(a.useState)("success"),[b,m]=Object(a.useState)(!1),[j,p]=Object(a.useState)(null),f=e=>{const t={barCode:"Barcode Number",gstrNo:"Gst Reg No",gstrMob:"Gst Reg Mob",gstrName:"Gst Reg Name",billingPOSNo:"Billing POS No",cashierId:"Cashier ID",netPayableAmount:"Net Payable Amount (Rs.)",subTotal:"Sub Total (Rs.)",total:"Total (Rs.)",clientId:"Client ID",batchId:"Batch ID",mrp:"MRP (Rs.)",baseAmount:"Base Amount (Rs.)",netAmount:"Net Amount (Rs.)"};return t[e]?t[e]:e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))},h={customerInfo:["mobile","countryCode"],transactionInfo:["clientId","batchId","roc"],orderDetails:["storeCode","storeAddress","billingPOSNo","netPayableAmount","orderNo","cashierId","cashierName","orderDateTime"],payments:["mode","total"],productsData:["name","productCode","quantity","mrp","baseAmount","netAmount"],billFooterData:["footerInfo"]},x=()=>{for(const e of h.customerInfo)if(!t.customerInfo[e]||""===t.customerInfo[e]||0===t.customerInfo[e])return!1;for(const e of h.transactionInfo)if(!t.transactionInfo[e]||""===t.transactionInfo[e]||0===t.transactionInfo[e])return!1;for(const e of h.orderDetails)if(!t.orderDetails[e]||""===t.orderDetails[e]||0===t.orderDetails[e])return!1;if(!t.orderDetails.payments||0===t.orderDetails.payments.length)return!1;for(const e of t.orderDetails.payments)for(const t of h.payments)if(!e[t]||""===e[t]||0===e[t])return!1;if(!t.orderDetails.productsData||0===t.orderDetails.productsData.length)return!1;for(const e of t.orderDetails.productsData)for(const t of h.productsData)if(!e[t]||""===e[t]||0===e[t])return!1;for(const e of h.billFooterData)if(!t.billFooterData[e]||""===t.billFooterData[e]||0===t.billFooterData[e])return!1;return!0},N=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o="number"===e.target.type?Number(e.target.value):e.target.value;s((e=>{if("productsData.taxes"===n&&null!==l){const t=[...e.orderDetails.productsData],s={...t[l]};return s.taxes={...s.taxes,[a]:o},t[l]=s,{...e,orderDetails:{...e.orderDetails,productsData:t}}}if("taxesInfo"===n)return{...e,orderDetails:{...e.orderDetails,taxesInfo:{...e.orderDetails.taxesInfo,[a]:o}}};if("loyaltyData"===n)return{...e,orderDetails:{...e.orderDetails,loyaltyData:{...e.orderDetails.loyaltyData,[a]:o}}};if("productsData"===n&&null!==l){const t=[...e.orderDetails.productsData];return t[l]={...t[l],[a]:o},{...e,orderDetails:{...e.orderDetails,productsData:t}}}if(null!==l&&"payments"===n&&"orderDetails"===t){const t=[...e.orderDetails.payments];return t[l]={...t[l],[a]:o},{...e,orderDetails:{...e.orderDetails,payments:t}}}if(null!==l&&"productsData"===t){const t=[...e.orderDetails.productsData];return t[l]={...t[l],[a]:o},{...e,orderDetails:{...e.orderDetails,productsData:t}}}return t in e?{...e,[t]:{...e[t],[a]:o}}:e}))},D=()=>{const e={name:"",description:"",productCode:"",quantity:0,mrp:0,baseAmount:0,netAmount:0,hsnCode:"",discount:0,taxes:{sgstPercent:0,sgst:0,cgstPercent:0,cgst:0,igstPercent:0,igst:0,utgstPercent:0,utgst:0}};s((t=>({...t,orderDetails:{...t.orderDetails,productsData:[...t.orderDetails.productsData,e]}})))},O=["mobile","countryCode","name","email","gstrName","gstrMob","gstrNo"],y=e=>"customerInfo"===e?O.map((s=>{const a=h[e]&&h[e].includes(s)||!1;return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("label",{className:"field-label",children:[f(s),a&&Object(i.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(i.jsx)("input",{type:"text",value:t[e][s],onChange:t=>N(t,e,s),className:"field-input"})]},s)})):"productsData"===e?Object(i.jsxs)(i.Fragment,{children:[t.orderDetails.productsData&&t.orderDetails.productsData.map(((e,t)=>Object(i.jsxs)("div",{className:"product-block",children:[Object(i.jsx)("div",{className:"product-fields",children:Object.keys(e).map((s=>{if("taxes"===s)return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("h5",{children:"Taxes"}),Object(i.jsx)("div",{className:"tax-info-block",children:e.taxes&&Object.keys(e.taxes).map((s=>Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("label",{className:"field-label",children:f(s)}),Object(i.jsx)("input",{type:"number",value:e.taxes[s]||0,onChange:e=>N(e,"orderDetails",s,t,"productsData.taxes"),className:"field-input"})]},s)))})]},s);const a=h.productsData.includes(s);return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("label",{className:"field-label",children:[f(s),a&&Object(i.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(i.jsx)("input",{type:"text",value:e[s]||"",onChange:e=>N(e,"orderDetails",s,t,"productsData"),className:"field-input"})]},s)}))}),Object(i.jsx)("button",{type:"button",className:"delete-product-button",onClick:()=>(e=>{p(e)})(t),children:"Delete"}),Object(i.jsx)("hr",{className:"product-separator"})]},t))),Object(i.jsx)("button",{type:"button",className:"add-product-button",onClick:D,children:"Add Product"})]}):"orderDetails"===e?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("h5",{children:"Order Details"}),Object(i.jsx)("div",{className:"order-details-block",children:Object.keys(t[e]).map((s=>{if("productsData"===s||"payments"===s||"taxesInfo"===s||"loyaltyData"===s)return null;if("orderDateTime"===s){const a=e=>{if(!e)return"";const[t,s]=e.split(" ");if(!t||!s)return"";const[a,l,n]=t.split("-");return`${n}-${l.padStart(2,"0")}-${a.padStart(2,"0")}T${s}`},l=e=>{if(!e)return"";const[t,s]=e.split("T");if(!t||!s)return"";const[a,l,n]=t.split("-");return`${n}-${l}-${a} ${s}`};return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("label",{className:"field-label",children:f(s)}),Object(i.jsx)("input",{type:"datetime-local",step:"1",value:a(t[e][s]),onChange:t=>N({target:{value:l(t.target.value)}},e,s),className:"field-input"})]},s)}const a=h[e]&&h[e].includes(s)||!1;return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("label",{className:"field-label",children:[f(s),a&&Object(i.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(i.jsx)("input",{type:"text",value:t[e][s],onChange:t=>N(t,e,s),className:"field-input"})]},s)}))})]}),t.orderDetails.payments&&Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("h5",{children:"Payments"}),t.orderDetails.payments.map(((e,t)=>Object(i.jsxs)("div",{className:"payment-block",children:[Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("label",{className:"field-label",children:[f("mode"),Object(i.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(i.jsxs)("select",{value:e.mode,onChange:e=>N(e,"orderDetails","mode",t,"payments"),className:"field-input",children:[Object(i.jsx)("option",{value:"UPI",children:"UPI"}),Object(i.jsx)("option",{value:"CARD",children:"CARD"}),Object(i.jsx)("option",{value:"CASH",children:"CASH"})]})]}),Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("label",{className:"field-label",children:[f("total"),Object(i.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(i.jsx)("input",{type:"number",value:e.total,onChange:e=>N(e,"orderDetails","total",t,"payments"),className:"field-input"})]}),Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("label",{className:"field-label",children:f("status")}),Object(i.jsx)("input",{type:"text",value:e.status,onChange:e=>N(e,"orderDetails","status",t,"payments"),className:"field-input"})]})]},t)))]}),t.orderDetails.taxesInfo&&Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("h5",{children:"Taxes Info"}),Object(i.jsx)("div",{className:"tax-info-block",children:Object.keys(t.orderDetails.taxesInfo).map((e=>Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("label",{className:"field-label",children:f(e)}),Object(i.jsx)("input",{type:"number",value:t.orderDetails.taxesInfo[e]||"",onChange:t=>N(t,"orderDetails",e,null,"taxesInfo"),className:"field-input"})]},e)))})]}),t.orderDetails.loyaltyData&&Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("h5",{children:"Loyalty Data"}),Object(i.jsx)("div",{className:"loyalty-data-block",children:Object.keys(t.orderDetails.loyaltyData).map((e=>Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("label",{className:"field-label",children:f(e)}),Object(i.jsx)("input",{type:"text",value:t.orderDetails.loyaltyData[e],onChange:t=>N(t,"orderDetails",e,null,"loyaltyData"),className:"field-input"})]},e)))})]})]}):Object.keys(t[e]).map((s=>{if("transactionInfo"===e&&"txnType"===s)return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsx)("label",{className:"field-label",children:f(s)}),Object(i.jsxs)("select",{value:t[e][s],onChange:t=>N(t,e,s),className:"field-input",children:[Object(i.jsx)("option",{value:"UPI",children:"UPI"}),Object(i.jsx)("option",{value:"CARD",children:"CARD"}),Object(i.jsx)("option",{value:"CASH",children:"CASH"})]})]},s);const a=h[e]&&h[e].includes(s)||!1;return Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("label",{className:"field-label",children:[f(s),a&&Object(i.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(i.jsx)("input",{type:"text",value:t[e][s],onChange:t=>N(t,e,s),className:"field-input"})]},s)}));return Object(i.jsxs)("div",{className:"form-container",children:[Object(i.jsx)("h1",{className:"form-title",children:"Digital Invoice Form"}),Object(i.jsxs)("div",{className:"tabs "+(o?"popup-active":""),children:[Object(i.jsx)("button",{className:"tab-button "+("customerInfo"===l?"active":""),onClick:()=>n("customerInfo"),children:"Customer Info"}),Object(i.jsx)("button",{className:"tab-button "+("transactionInfo"===l?"active":""),onClick:()=>n("transactionInfo"),children:"Transaction Info"}),Object(i.jsx)("button",{className:"tab-button "+("orderDetails"===l?"active":""),onClick:()=>n("orderDetails"),children:"Order Info"}),Object(i.jsx)("button",{className:"tab-button "+("productsData"===l?"active":""),onClick:()=>n("productsData"),children:"Product Info"}),Object(i.jsx)("button",{className:"tab-button "+("billFooterData"===l?"active":""),onClick:()=>n("billFooterData"),children:"Bill Footer Info"})]}),Object(i.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!x())return u("error"),void r("Please fill all mandatory fields marked with *.");m(!0);const s=JSON.parse(JSON.stringify(t)),a=e=>{Object.keys(e).forEach((t=>{"string"!==typeof e[t]||isNaN(e[t])?"object"===typeof e[t]&&null!==e[t]&&a(e[t]):e[t]=Number(e[t])}))},l=e=>null===e||void 0===e?"":String(e);a(s.transactionInfo),a(s.orderDetails),l(s.invoiceNo),l(s.hsnCode),l(s.orderNo),l(s.orderRegNo),l(s.billingPOSNo),l(s.cashierId),l(s.storeCode),Object.keys(s.transactionInfo).forEach((e=>{s.transactionInfo[e]=l(s.transactionInfo[e])}));const n="https://testapi.pinelabs.com/v1/billing-integration/qr-payments/transactions/digital-invoice-v2/create",o={Authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJTYlBZU2ZJOS04bklWczl3Xy1Fa3RVdWNVaURNdUZiMGM5bkpVM3hhYzdBIn0.eyJleHAiOjE3NjE1NjMyMTksImlhdCI6MTc0NjAxMTIxOSwianRpIjoiMDdhZjZkMDYtZTM1ZC00ZjEwLWE2OTQtM2ZmMDFiNTMyMDYzIiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eXRlc3QucGluZWxhYnMuY29tL3JlYWxtcy9waW5lbGFicyIsInN1YiI6IjhmNzJlZjBiLTI0ZTMtNDQwZi1iZmQzLTExMTVhMDhkZjBiZCIsInR5cCI6IkJlYXJlciIsImF6cCI6Ik1lcmNoYW50QmlsbGluZ1NlcnZfMjAxNSIsImFjciI6IjEiLCJzY29wZSI6ImZldGNoLnBpbmUub25lLnRyYW5zYWN0aW9uLkdFVCBiaWxsaW5nLWludGVncmF0aW9uLnFyLXBheW1lbnRzLnRyYW5zYWN0aW9ucy5QT1NUIHYxLmJpbGxpbmctaW50ZWdyYXRpb24ucXItcGF5bWVudHMudHJhbnNhY3Rpb25zLmRpZ2l0YWwtaW52b2ljZS12Mi5jcmVhdGUuUE9TVCBiaWxsaW5nLWludGVncmF0aW9uLnFyLXBheW1lbnRzLnRyYW5zYWN0aW9ucy5HRVQgYmlsbGluZy1pbnRlZ3JhdGlvbi5xci1wYXltZW50cy50cmFuc2FjdGlvbnMuY2FuY2VsLlBPU1Qgb2ZmbGluZV9hY2Nlc3MgdjEuYmlsbGluZy1pbnRlZ3JhdGlvbi5xci1wYXltZW50cy50cmFuc2FjdGlvbnMuZGlnaXRhbC1pbnZvaWNlLXYxLmNyZWF0ZS5QT1NUIiwiY2xpZW50SG9zdCI6IjExNS4xMTAuMTQxLjI0MiIsImV4dElkIjoiMjAxNSIsIk1lcmNoYW50SWQiOiIyMDE1IiwiY2xpZW50QWRkcmVzcyI6IjExNS4xMTAuMTQxLjI0MiIsImNsaWVudF9pZCI6Ik1lcmNoYW50QmlsbGluZ1NlcnZfMjAxNSJ9.h8fXECFyq81ADlaXotGBCEi9faW8Qo8eFzw4TXYiRIpdkef-cHTqOlcce7nqADJOTOu-2oU5c_RVIIGTNeiLYw","Content-Type":"application/json","correlation-id":"123455"},i=`\ncurl --location '${n}' \\\n--header 'Authorization: ${o.Authorization}' \\\n--header 'Content-Type: ${o["Content-Type"]}' \\\n--header 'correlation-id: ${o["correlation-id"]}' \\\n--data-raw '${JSON.stringify(s,null,2)}'\n    `;console.log("Final CURL Command:\n",i);try{const e=await c.a.post(n,s,{headers:o});u("success"),r("Invoice sent successfully!"),console.log("Response:",e.data)}catch(p){var d,b,j;u("error"),r((null===(d=p.response)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.message)||"API call failed!"),console.error("Error:",(null===(j=p.response)||void 0===j?void 0:j.data)||p.message)}finally{m(!1)}},className:"form "+(o?"popup-active":""),children:["customerInfo"===l&&Object(i.jsx)("div",{className:"form-section",children:y("customerInfo")}),"transactionInfo"===l&&Object(i.jsx)("div",{className:"form-section",children:y("transactionInfo")}),"orderDetails"===l&&Object(i.jsx)("div",{className:"form-section",children:y("orderDetails")}),"productsData"===l&&Object(i.jsx)("div",{className:"form-section",children:y("productsData")}),"billFooterData"===l&&Object(i.jsx)("div",{className:"form-section",children:y("billFooterData")}),Object(i.jsx)("button",{type:"submit",className:"submit-button",disabled:!x(),children:"Submit"})]}),b&&Object(i.jsx)("div",{className:"loading-toast",children:Object(i.jsx)("div",{className:"spinner"})}),o&&Object(i.jsxs)("div",{className:`popup ${d}`,children:[Object(i.jsx)("h3",{children:"success"===d?"Success":"Error"}),Object(i.jsx)("p",{children:o}),Object(i.jsx)("button",{onClick:()=>r(null),children:"Close"})]}),null!==j&&Object(i.jsxs)("div",{className:"popup",children:[Object(i.jsx)("h3",{children:"Delete Product"}),Object(i.jsx)("p",{children:"Do you want to delete this product?"}),Object(i.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[Object(i.jsx)("button",{onClick:()=>{s((e=>{const t=[...e.orderDetails.productsData];return t.splice(j,1),{...e,orderDetails:{...e.orderDetails,productsData:t}}})),p(null)},children:"Yes"}),Object(i.jsx)("button",{onClick:()=>{p(null)},children:"No"})]})]})]})};var u=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"logo",children:Object(i.jsx)("div",{className:"logo-text",children:"PINE LABS"})}),Object(i.jsx)(d,{})]})};s(40);o.a.render(Object(i.jsx)(l.a.StrictMode,{children:Object(i.jsx)(u,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.37e44e70.chunk.js.map