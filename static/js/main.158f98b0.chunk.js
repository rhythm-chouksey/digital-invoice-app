(this["webpackJsonpdigital-invoice-app"]=this["webpackJsonpdigital-invoice-app"]||[]).push([[0],{38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var s=a(2),l=a.n(s),c=a(13),n=a.n(c),i=a(14),o=a.n(i),r=(a(38),a(0));var d=function(){const[e,t]=Object(s.useState)({customerInfo:{mobile:"7906059714",name:"Aarav Rubral",email:"customer_6383575597@example.com",countryCode:"+91",gstrName:"Ramandeep",gstrMob:"9764775793",gstrNo:"217686439898"},transactionInfo:{clientId:"123454",batchId:"09865",roc:"876767",txnId:"97785",txnType:"UPI"},orderDetails:{storeCode:"9991",storeAddress:"Connaught Plaza Restaurants Pvt.Ltd.",billingPOSNo:"101",netPayableAmount:13196,subTotal:11782.12,rounding:0,taxesInfo:{cgstPercent:9,sgstPercent:9,igstPercent:9,utgstPercent:9,cgst:148.5,sgst:148.5,igst:148.5,utgst:148.5},payments:[{mode:"UPI",total:13196,status:"SUCCESS"}],orderNo:"28",orderRegNo:"1",productsData:[{name:"BLACK LOGO PRINT CREW NECK T-SHIRT",description:"Premium t-shirt",productCode:"A123",quantity:1,unitAmount:300,totalAmount:250,hsnCode:"6276462",discount:50,taxes:{sgstPercent:6,sgst:8,cgstPercent:6,cgst:8,igstPercent:6,igst:8,utgstPercent:6,utgst:3}},{name:"BLACK LOGO RISE WASHED GLENN SLIM FIT JEANS",description:"BLACK LOGO RISE WASHED GLENN SLIM FIT JEANS",productCode:"A124",quantity:2,unitAmount:700,totalAmount:1400,hsnCode:"6276462",discount:0,taxes:{sgstPercent:6,sgst:8,cgstPercent:6,cgst:8,igstPercent:6,igst:8,utgstPercent:6,utgst:3}}],purchasedPieces:3,invoiceNo:"5286",barCode:"barcode_data",loyaltyData:{type:"cashback",cardNum:"V1218199412",pointsEarned:127,walletAmount:1500,amountSaved:50,pointsRedeemed:127},cashierId:"475117",cashierName:"Krishna",orderDateTime:"13-09-2024 17:20:51"},billFooterData:{disclaimer:"disclaimer testing",purchaseTerms:"https://company.co.in/",feedbackCode:"LTE123",feedbackDiscount:0,feedbackLink:"https://company.co.in/",orderInstructions:"Please provide black Umbrella",footerInfo:"GSTIN-27AAAFH1333H1ZT         \n         GST Classification -         \n    Restaurant Services SAC-996331    \n        FSSAI : 11517007000202        \n We value your feedback. Share it to: \n     myfeedback@mcdonaldsindia.com     \n # The collection of donation is done \n  on behalf of Ronald McDonald House  \nCharities Foundation India (RMHC India)\n  on a principal-to-principal basis."}}),[a,l]=Object(s.useState)("customerInfo"),[c,n]=Object(s.useState)(null),[i,d]=Object(s.useState)("success"),[u,b]=Object(s.useState)(!1),j=e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),m=function(e,a,s){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const n=e.target.value;t((e=>{if(c&&null!==l){const t=[...e[a].productsData];return t[l][c][s]=n,{...e,[a]:{...e[a],productsData:t}}}if(c)return{...e,[a]:{...e[a],[c]:{...e[a][c],[s]:n}}};if(null!==l){const t=[...e[a].productsData];return t[l][s]=n,{...e,[a]:{...e[a],productsData:t}}}return{...e,[a]:{...e[a],[s]:n}}}))},p=()=>{const e={name:"",description:"",productCode:"",quantity:0,unitAmount:0,totalAmount:0,hsnCode:"",discount:0,taxes:{sgstPercent:0,sgst:0,cgstPercent:0,cgst:0,igstPercent:0,igst:0,utgstPercent:0,utgst:0}};t((t=>({...t,orderDetails:{...t.orderDetails,productsData:[...t.orderDetails.productsData,e]}})))},h=a=>"productsData"===a?Object(r.jsxs)(r.Fragment,{children:[e.orderDetails.productsData.map(((e,a)=>Object(r.jsxs)("div",{className:"product-block",children:[Object(r.jsxs)("h3",{children:["Product ",a+1]}),Object(r.jsx)("div",{className:"product-fields",children:Object.keys(e).map((t=>"taxes"===t?Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Taxes"}),Object(r.jsx)("div",{className:"tax-info-block",children:Object.keys(e.taxes).map((t=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"number",value:e.taxes[t],onChange:e=>m(e,"orderDetails",t,a,"taxes"),className:"field-input"})]},t)))})]},t):Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"text",value:e[t],onChange:e=>m(e,"orderDetails",t,a),className:"field-input"})]},t)))}),Object(r.jsx)("button",{type:"button",className:"delete-product-button",onClick:()=>(e=>{t((t=>{const a=[...t.orderDetails.productsData];return a.splice(e,1),{...t,orderDetails:{...t.orderDetails,productsData:a}}}))})(a),children:"Delete"}),Object(r.jsx)("hr",{className:"product-separator"})]},a))),Object(r.jsx)("button",{type:"button",className:"add-product-button",onClick:p,children:"Add Product"})]}):"orderDetails"===a?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Order Details"}),Object(r.jsx)("div",{className:"order-details-block",children:Object.keys(e[a]).map((t=>"productsData"===t||"payments"===t||"taxesInfo"===t||"loyaltyData"===t?null:"orderDateTime"===t?Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"datetime-local",step:"1",value:e[a][t],onChange:e=>m(e,a,t),className:"field-input"})]},t):Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"text",value:e[a][t],onChange:e=>m(e,a,t),className:"field-input"})]},t)))})]}),e.orderDetails.payments&&Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Payments"}),e.orderDetails.payments.map(((e,t)=>Object(r.jsxs)("div",{className:"payment-block",children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:"Mode"}),Object(r.jsxs)("select",{value:e.mode,onChange:e=>m(e,"orderDetails","mode",t,"payments"),className:"field-input",children:[Object(r.jsx)("option",{value:"UPI",children:"UPI"}),Object(r.jsx)("option",{value:"CARD",children:"CARD"}),Object(r.jsx)("option",{value:"CASH",children:"CASH"})]})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:"Total"}),Object(r.jsx)("input",{type:"number",value:e.total,onChange:e=>m(e,"orderDetails","total",t,"payments"),className:"field-input"})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:"Status"}),Object(r.jsx)("input",{type:"text",value:e.status,onChange:e=>m(e,"orderDetails","status",t,"payments"),className:"field-input"})]})]},t)))]}),e.orderDetails.taxesInfo&&Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Taxes Info"}),Object(r.jsx)("div",{className:"tax-info-block",children:Object.keys(e.orderDetails.taxesInfo).map((t=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"number",value:e.orderDetails.taxesInfo[t],onChange:e=>m(e,"orderDetails",t,null,"taxesInfo"),className:"field-input"})]},t)))})]}),e.orderDetails.loyaltyData&&Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("h5",{children:"Loyalty Data"}),Object(r.jsx)("div",{className:"loyalty-data-block",children:Object.keys(e.orderDetails.loyaltyData).map((t=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"text",value:e.orderDetails.loyaltyData[t],onChange:e=>m(e,"orderDetails",t,null,"loyaltyData"),className:"field-input"})]},t)))})]})]}):Object.keys(e[a]).map((t=>Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{className:"field-label",children:j(t)}),Object(r.jsx)("input",{type:"text",value:e[a][t],onChange:e=>m(e,a,t),className:"field-input"})]},t)));return Object(r.jsxs)("div",{className:"form-container",children:[Object(r.jsx)("h1",{className:"form-title",children:"Digital Invoice Form"}),Object(r.jsxs)("div",{className:"tabs "+(c?"popup-active":""),children:[Object(r.jsx)("button",{className:"tab-button "+("customerInfo"===a?"active":""),onClick:()=>l("customerInfo"),children:"Customer Info"}),Object(r.jsx)("button",{className:"tab-button "+("transactionInfo"===a?"active":""),onClick:()=>l("transactionInfo"),children:"Transaction Info"}),Object(r.jsx)("button",{className:"tab-button "+("orderDetails"===a?"active":""),onClick:()=>l("orderDetails"),children:"Order Details"}),Object(r.jsx)("button",{className:"tab-button "+("productsData"===a?"active":""),onClick:()=>l("productsData"),children:"Product Data"}),Object(r.jsx)("button",{className:"tab-button "+("billFooterData"===a?"active":""),onClick:()=>l("billFooterData"),children:"Bill Footer Data"})]}),Object(r.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),b(!0);const a={...e};if(a.orderDetails.orderDateTime){const e=new Date(a.orderDetails.orderDateTime),t=`${String(e.getDate()).padStart(2,"0")}-${String(e.getMonth()+1).padStart(2,"0")}-${e.getFullYear()} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;a.orderDetails.orderDateTime=t}const s="https://testapi.pinelabs.com/v1/billing-integration/qr-payments/transactions/digital-invoice-v2/create",l={Authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJTYlBZU2ZJOS04bklWczl3Xy1Fa3RVdWNVaURNdUZiMGM5bkpVM3hhYzdBIn0.eyJleHAiOjE3NjEwMjQzMjksImlhdCI6MTc0NTQ3MjMyOSwianRpIjoiMjFkOTJlYjYtZDdiNi00ZmM3LTk0NDktMWI2Mjk5MTExMzJhIiwiaXNzIjoiaHR0cHM6Ly9pZGVudGl0eXRlc3QucGluZWxhYnMuY29tL3JlYWxtcy9waW5lbGFicyIsInN1YiI6IjhmNzJlZjBiLTI0ZTMtNDQwZi1iZmQzLTExMTVhMDhkZjBiZCIsInR5cCI6IkJlYXJlciIsImF6cCI6Ik1lcmNoYW50QmlsbGluZ1NlcnZfMjAxNSIsImFjciI6IjEiLCJzY29wZSI6ImZldGNoLnBpbmUub25lLnRyYW5zYWN0aW9uLkdFVCBiaWxsaW5nLWludGVncmF0aW9uLnFyLXBheW1lbnRzLnRyYW5zYWN0aW9ucy5QT1NUIHYxLmJpbGxpbmctaW50ZWdyYXRpb24ucXItcGF5bWVudHMudHJhbnNhY3Rpb25zLmRpZ2l0YWwtaW52b2ljZS12Mi5jcmVhdGUuUE9TVCBiaWxsaW5nLWludGVncmF0aW9uLnFyLXBheW1lbnRzLnRyYW5zYWN0aW9ucy5HRVQgYmlsbGluZy1pbnRlZ3JhdGlvbi5xci1wYXltZW50cy50cmFuc2FjdGlvbnMuY2FuY2VsLlBPU1Qgb2ZmbGluZV9hY2Nlc3MgdjEuYmlsbGluZy1pbnRlZ3JhdGlvbi5xci1wYXltZW50cy50cmFuc2FjdGlvbnMuZGlnaXRhbC1pbnZvaWNlLXYxLmNyZWF0ZS5QT1NUIiwiY2xpZW50SG9zdCI6IjE0LjE0My4xMjAuODIiLCJleHRJZCI6IjIwMTUiLCJNZXJjaGFudElkIjoiMjAxNSIsImNsaWVudEFkZHJlc3MiOiIxNC4xNDMuMTIwLjgyIiwiY2xpZW50X2lkIjoiTWVyY2hhbnRCaWxsaW5nU2Vydl8yMDE1In0.DtG1R--rgd9HZccykXXeD7N13YCOStPTKsVMIDsDSn2VMHdBu7_Erwktt2YCm_k3tV5LMH4pwQYN6NAWGnDNlQ","Content-Type":"application/json","correlation-id":"123455"},c=`\ncurl --location '${s}' \\\n--header 'Authorization: ${l.Authorization}' \\\n--header 'Content-Type: ${l["Content-Type"]}' \\\n--header 'correlation-id: ${l["correlation-id"]}' \\\n--data-raw '${JSON.stringify(a,null,2)}'\n    `;console.log("Final CURL Command:\n",c);try{const e=await o.a.post(s,a,{headers:l});d("success"),n("Invoice uploaded successfully!"),console.log("Response:",e.data)}catch(j){var i,r,u;d("error"),n((null===(i=j.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.message)||"API call failed!"),console.error("Error:",(null===(u=j.response)||void 0===u?void 0:u.data)||j.message)}finally{b(!1)}},className:"form "+(c?"popup-active":""),children:["customerInfo"===a&&Object(r.jsx)("div",{className:"form-section",children:h("customerInfo")}),"transactionInfo"===a&&Object(r.jsx)("div",{className:"form-section",children:h("transactionInfo")}),"orderDetails"===a&&Object(r.jsx)("div",{className:"form-section",children:h("orderDetails")}),"productsData"===a&&Object(r.jsx)("div",{className:"form-section",children:h("productsData")}),"billFooterData"===a&&Object(r.jsx)("div",{className:"form-section",children:h("billFooterData")}),Object(r.jsx)("button",{type:"submit",className:"submit-button",children:"Submit"})]}),u&&Object(r.jsx)("div",{className:"loading-toast",children:Object(r.jsx)("div",{className:"spinner"})}),c&&Object(r.jsxs)("div",{className:`popup ${i}`,children:[Object(r.jsx)("h3",{children:"success"===i?"Success":"Error"}),Object(r.jsx)("p",{children:c}),Object(r.jsx)("button",{onClick:()=>n(null),children:"Close"})]})]})};var u=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsx)("div",{className:"logo-text",children:"PINE LABS"})}),Object(r.jsx)(d,{})]})};a(40);n.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(u,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.158f98b0.chunk.js.map